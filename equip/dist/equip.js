!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(t,e){var n=function(){};n.prototype.addEventListener=n.prototype.on=function(t,e){this.listeners=this.listeners||{},(this.listeners[t]=this.listeners[t]||[])&&this.listeners[t].push(e)},n.prototype.removeEventListener=n.prototype.off=function(t,e){if(this.listeners=0==arguments.length?{}:this.listeners,"function"==typeof e){for(var n=0;n<this.listeners[t].length;n++)if(e==this.listeners[t][n]){this.listeners[t].splice(n,1);break}}else delete this.listeners[t]},n.prototype.once=function(t,e){var n=this,i=function(){e.apply(n,arguments),n.off(t,i)};this.on(t,i)},n.prototype.dispatchEvent=n.prototype.emit=function(t){if(this.listeners=this.listeners||{},this.listeners[t])for(var e=0;e<this.listeners[t].length;e++){var n=this.listeners[t][e];n.apply(this,[].slice.call(arguments,1))}},t.event=t.event||{},t.event.EventDispatcher=n};var o=function(t,e){t.event=t.event||{},t.event.touch=!!("ontouchstart"in document),t.event.click=t.event.touch?"touchstart":"click",t.event.eventBegan=t.event.touch?"touchstart":"mousedown",t.event.eventMoved=t.event.touch?"touchmove":"mousemove",t.event.eventEnded=t.event.touch?"touchend":"mouseup"};var s=function(t,e){var n=e.trace=function(t){console.log(t)},i=e.requestAnimFrame=function(t,e){return e=e||18,console.log(self.delay),setInterval((function(){var n=+new Date;t(n);var i=+new Date;e-=i-n,console.log(e)}),e)},o=e.cancelAnimFrame=function(t){clearTimeout(t)},s=e.bind=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);i=i.concat(n),t.apply(e,i)}};t.utils=t.utils||{},t.utils.extend=function(t,e){for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n])},t.utils.inherit=function(t,e){if("function"!=typeof Object.create){var n=function(){};n.prototype=e,t.prototype=new n,t.prototype._super=n.prototype}else t.prototype=Object.create(e),t.prototype._super=e},t.utils.trace=n,t.utils.requestAnimFrame=i,t.utils.cancelAnimFrame=o,t.utils.bind=s};var r=function(t,e){var n=function(){this.manifest={}};t.utils.inherit(n,t.event.EventDispatcher.prototype),n.prototype.load=function(t,e=""){this.total=t.length,this.count=0;for(var n=this,i=0;i<this.total;i++){var o=new Image;o.onload=function(){++n.count==n.total&&n.emit("load")},o.src=e+"/"+t[i],this.manifest[t[i]]=o}},n.prototype.getRes=function(t){return this.manifest[t]},t.utils=t.utils||{},t.utils.Loader=n};var a=function(t,e){var n=function(t,e){this.x=t,this.y=e};n.prototype.getDistance=function(t){var e=(this.x-t.x)*(this.x-t.x),n=(this.y-t.y)*(this.y-t.y);return Math.sqrt(e,n)},n.prototype.getRadian=function(t){return Math.atan2(this.y-t.y,this.x-t.x)},t.gemo=t.gemo||{},t.gemo.Point=n,t.gemo.point=function(t,e){return new n(t,e)}};var h=function(t,e){var n=function(e){this.opts={w:300,h:300,topImg:"",bottomImg:"",radius:50,threshold:.2,complete:null},t.utils.extend(this.opts,e),this.init()};t.utils.inherit(n,t.event.EventDispatcher.prototype),n.prototype.init=function(){this.elem=document.createElement("canvas"),this.elem.setAttribute("width",this.opts.w),this.elem.setAttribute("height",this.opts.h),this.elem.style.background="url("+this.opts.bottomImg.src+") no-repeat 0px 0px",this.ctx=this.elem.getContext("2d"),this.beganHandler=bind(this.onBegan,this),this.movedHandler=bind(this.onMoved,this),this.endedHandler=bind(this.onEnded,this),this.elem.addEventListener(t.event.eventBegan,this.beganHandler,!1),this.elem.addEventListener(t.event.eventMoved,this.movedHandler,!1),this.elem.addEventListener(t.event.eventEnded,this.endedHandler,!1),this.drawing=!1,this.initCanvas()},n.prototype.initCanvas=function(){this.ctx.drawImage(this.opts.topImg,0,0,this.opts.topImg.width,this.opts.topImg.height,0,0,this.opts.topImg.width,this.opts.topImg.height),this.ctx.globalCompositeOperation="destination-out",this.ctx.lineWidth=this.opts.radius},n.prototype.onBegan=function(t){this.sPos=this.getPos(t),this.cPos=this.sPos,this.isDrawing=!0},n.prototype.onMoved=function(t){if(this.isDrawing)for(var e=this.getPos(t),n=(Math.abs(e.x-this.sPos.x),this.cPos.getRadian(e)),i=this.cPos.getDistance(e),o=Math.floor(i/2),s=0;s<o;s+=2){var r=this.cPos.x-2*Math.cos(n),a=this.cPos.y-2*Math.sin(n);this.drawDot(r,a),this.cPos.x=r,this.cPos.y=a}},n.prototype.onEnded=function(t){this.getPos(t);this.isDrawing=!1,this.check()},n.prototype.drawDot=function(t,e){this.ctx.beginPath(),this.ctx.arc(t,e,this.opts.radius/2,0,2*Math.PI,!1),this.ctx.fill()},n.prototype.check=function(){for(var t=this.opts.w,e=this.opts.h,n=this.ctx.getImageData(0,0,t,e).data,i=0,o=0;i<n.length;i+=4)0==n[i]&&0==n[i+1]&&0==n[i+2]&&0==n[i+3]&&o++;o>=t*e*.5&&(this.ctx.fillRect(0,0,t,e),this.clean(),this.opts.complete&&this.opts.complete(),console.log("complete"))},n.prototype.clean=function(){this.elem.removeEventListener(t.event.eventBegan,this.beganHandler),this.elem.removeEventListener(t.event.eventMoved,this.movedHandler),this.elem.removeEventListener(t.event.eventEnded,this.endedHandler)},n.prototype.getPos=function(e){var n=t.event.touch?e.changedTouches[0].pageX-this.elem.offsetLeft:e.pageX-this.elem.offsetLeft,i=t.event.touch?e.changedTouches[0].pageY-this.elem.offsetTop:e.pageY-this.elem.offsetTop;return t.gemo.point(n,i)},t.canvas=t.canvas||{},t.canvas.Scratch=n};new function(t,e){var n=window.equip||{};n.version="1.0.1",t.equip=n}(window,document);const c=window.equip;new i(c,window),new o(c,window),new s(c,window),new r(c,window),new a(c,window),new h(c,window)}]);